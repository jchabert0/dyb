(function(t){function e(e){for(var r,o,i=e[0],n=e[1],l=e[2],b=0,u=[];b<i.length;b++)o=i[b],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&u.push(a[o][0]),a[o]=0;for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);d&&d(e);while(u.length)u.shift()();return c.push.apply(c,l||[]),s()}function s(){for(var t,e=0;e<c.length;e++){for(var s=c[e],r=!0,i=1;i<s.length;i++){var n=s[i];0!==a[n]&&(r=!1)}r&&(c.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},a={app:0},c=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],n=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=n;c.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1de1":function(t,e,s){},4678:function(t,e,s){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-ps":"4c98","./ar-ps.js":"4c98","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku-kmr":"7558","./ku-kmr.js":"7558","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=c(t);return s(e)}function c(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=c,t.exports=a,a.id="4678"},"4d1a":function(t,e,s){},5160:function(t,e,s){"use strict";s("4d1a")},"557b":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var r=s("7a23");const a={class:"navbar navbar-dark bg-dark-blue"};var c={__name:"AppHeader",setup(t){return Object(r["D"])(()=>{}),(t,e)=>{const s=Object(r["x"])("router-link");return Object(r["s"])(),Object(r["f"])("nav",a,[Object(r["i"])(s,{to:"/",class:"navbar-brand",style:{background:"transparent"}},{default:Object(r["E"])(()=>e[0]||(e[0]=[Object(r["h"])("MuziK")])),_:1})])}}},o=(s("be04"),s("6b0d")),i=s.n(o);const n=i()(c,[["__scopeId","data-v-40828e96"]]);var l=n;const d={class:"container"};var b={__name:"App",setup(t){return(t,e)=>{const s=Object(r["x"])("router-view");return Object(r["s"])(),Object(r["f"])(r["a"],null,[Object(r["i"])(Object(r["B"])(l)),Object(r["g"])("main",d,[(Object(r["s"])(),Object(r["d"])(s,{key:t.$route.fullPath}))])],64)}}};s("d872");const u=i()(b,[["__scopeId","data-v-5e096d17"]]);var j=u,m=s("6605");const h={key:0,class:"row"},f={key:1,class:"alert alert-secondary"};function O(t,e,s,a,c,o){const i=Object(r["x"])("TheNavigationForHome"),n=Object(r["x"])("ArtistCardForHome");return Object(r["s"])(),Object(r["f"])(r["a"],null,[Object(r["i"])(i),o.filteredArtists.length?(Object(r["s"])(),Object(r["f"])("div",h,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["w"])(o.filteredArtists,t=>(Object(r["s"])(),Object(r["d"])(n,{artist:t,key:t._id},null,8,["artist"]))),128))])):(Object(r["s"])(),Object(r["f"])("div",f," Aucun artiste ne correspond à vos critères... "))],64)}s("13d5"),s("e9f5"),s("910d"),s("ab43"),s("9485");var p=s("bc3a"),g=s.n(p),y=s("5502");const v={class:"navbar navbar-expand-lg navbar-light bg-light",style:{"margin-bottom":"1rem"}},A={class:"collapse navbar-collapse"},k={class:"form-inline"},w={class:"input-group mb-1"},S={class:"input-group-prepend"},_={class:"dropdown-menu"},x=["value"];function E(t,e,s,a,c,o){const i=Object(r["x"])("router-link");return Object(r["s"])(),Object(r["f"])("nav",v,[Object(r["i"])(i,{to:"/",class:"navbar-brand"},{default:Object(r["E"])(()=>e[7]||(e[7]=[Object(r["h"])("Artistes")])),_:1}),Object(r["g"])("div",A,[e[11]||(e[11]=Object(r["g"])("ul",{class:"navbar-nav mr-auto"},null,-1)),Object(r["g"])("form",k,[Object(r["g"])("div",w,[Object(r["g"])("div",S,[e[10]||(e[10]=Object(r["g"])("button",{class:"btn btn-outline-secondary dropdown-toggle",type:"button","data-toggle":"dropdown"}," Trier ",-1)),Object(r["g"])("div",_,[Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:e[0]||(e[0]=Object(r["F"])(e=>t.updateSort({sortBy:"nom",sortOrder:"asc"}),["prevent"])),"aria-label":"Nom (A-Z)"},"Nom (A-Z)"),Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:e[1]||(e[1]=Object(r["F"])(e=>t.updateSort({sortBy:"nom",sortOrder:"desc"}),["prevent"])),"aria-label":"Nom (Z-A)"},"Nom (Z-A)"),e[8]||(e[8]=Object(r["g"])("div",{class:"dropdown-divider"},null,-1)),Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:e[2]||(e[2]=Object(r["F"])(e=>t.updateSort({sortBy:"age",sortOrder:"asc"}),["prevent"])),"aria-label":"Âge (Croissant)"},"Âge (Croissant)"),Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:e[3]||(e[3]=Object(r["F"])(e=>t.updateSort({sortBy:"age",sortOrder:"desc"}),["prevent"])),"aria-label":"Âge (Décroissant)"},"Âge (Décroissant)"),e[9]||(e[9]=Object(r["g"])("div",{class:"dropdown-divider"},null,-1)),Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:e[4]||(e[4]=Object(r["F"])(e=>t.updateSort({sortBy:"nombreEcoutes",sortOrder:"asc"}),["prevent"])),"aria-label":"Nombre d'écoutes (Croissant)"},"Nombre d'écoutes (Croissant)"),Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:e[5]||(e[5]=Object(r["F"])(e=>t.updateSort({sortBy:"nombreEcoutes",sortOrder:"desc"}),["prevent"])),"aria-label":"Nombre d'écoutes (Décroissant)"},"Nombre d'écoutes (Décroissant)")])]),Object(r["g"])("input",{class:"form-control",type:"search",placeholder:"Rechercher",value:t.searchQuery,onInput:e[6]||(e[6]=e=>t.updateSearchQuery(e.target.value))},null,40,x)])])])])}var z={computed:{...Object(y["d"])(["searchQuery","sortBy","sortOrder"])},methods:{...Object(y["b"])(["updateSearchQuery","updateSort"]),updateSearch(){this.updateSearchQuery(this.searchQuery)},setSort(t,e){this.updateSort({sortBy:t,sortOrder:e})}}};const C=i()(z,[["render",E]]);var T=C;const B={key:0,class:"col-sm-3 mg-b"},D={class:"card mb-4"},M=["src","alt"],P={class:"text-white",style:{padding:".75rem 1.25rem","margin-top":"-2.35rem",background:"linear-gradient(to top, black 0%, transparent 100%)"}},F={class:"card-body"},q={class:"card-title"},N={class:"text-muted"},Q={class:"card-text custom-max-vh"};function L(t,e,s,a,c,o){const i=Object(r["x"])("router-link");return s.artist?(Object(r["s"])(),Object(r["f"])("div",B,[Object(r["g"])("div",D,[Object(r["g"])("img",{class:"card-img-top",src:s.artist.photo,alt:s.artist.prenom+" "+s.artist.nom,width:"208",height:"208"},null,8,M),Object(r["g"])("span",P,[e[0]||(e[0]=Object(r["h"])(" Nombre d'écoutes : ")),Object(r["g"])("b",null,Object(r["A"])(o.thousandsSeparator(o.totalEcoutes)),1)]),Object(r["g"])("div",F,[Object(r["g"])("h5",q,[Object(r["h"])(Object(r["A"])(s.artist.prenom)+" "+Object(r["A"])(s.artist.nom)+" ",1),Object(r["g"])("div",N,"("+Object(r["A"])(s.artist.age)+" ans)",1)]),Object(r["g"])("p",Q,Object(r["A"])(s.artist.bio),1),Object(r["i"])(i,{to:{name:"artist",params:{id:s.artist._id}},class:"btn btn-primary btn-block mt-2"},{default:Object(r["E"])(()=>e[1]||(e[1]=[Object(r["h"])("Voir la page")])),_:1},8,["to"])])])])):Object(r["e"])("",!0)}var R={name:"ArtistCardForHome",props:{artist:{type:Object,required:!0}},computed:{totalEcoutes(){return this.artist&&this.artist.albums?this.artist.albums.reduce((t,e)=>t+e.musiques.reduce((t,e)=>t+(e.nombreEcoutes||0),0),0):0}},methods:{thousandsSeparator(t,e=" "){return void 0!==t&&null!==t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e):"0"}}};s("5160");const H=i()(R,[["render",L],["__scopeId","data-v-0e877ba2"]]);var I=H,U={name:"Home",components:{TheNavigationForHome:T,ArtistCardForHome:I},data(){return{artists:[]}},computed:{...Object(y["d"])(["searchQuery","sortBy","sortOrder"]),...Object(y["c"])(["getSearchQuery","getSortBy","getSortOrder"]),artistsWithTotalEcoutes(){return this.artists.map(t=>{const e=t.albums.reduce((t,e)=>t+e.musiques.reduce((t,e)=>t+e.nombreEcoutes,0),0);return{...t,totalEcoutes:e}})},filteredArtists(){return this.sortedArtists.filter(t=>{const e=this.searchQuery.toLowerCase();return t.nom.toLowerCase().includes(e)||t.prenom.toLowerCase().includes(e)})},sortedArtists(){return this.artistsWithTotalEcoutes.slice().sort((t,e)=>"nombreEcoutes"===this.sortBy?"asc"===this.sortOrder?t.totalEcoutes-e.totalEcoutes:e.totalEcoutes-t.totalEcoutes:"nom"===this.sortBy?"asc"===this.sortOrder?t.nom.localeCompare(e.nom):e.nom.localeCompare(t.nom):"age"===this.sortBy?"asc"===this.sortOrder?t.age-e.age:e.age-t.age:0)}},mounted(){g.a.get("http://localhost:8085/artistes.json").then(t=>{this.artists=t.data})}};const $=i()(U,[["render",O]]);var Z=$;const J={key:0},W={key:1,class:"d-flex justify-content-center"};function Y(t,e,s,a,c,o){const i=Object(r["x"])("AppArtistInfos"),n=Object(r["x"])("AppArtistPopularyTitles"),l=Object(r["x"])("AppArtistAlbums");return c.artist?(Object(r["s"])(),Object(r["f"])("div",J,[Object(r["i"])(i,{id:c.artist._id},null,8,["id"]),Object(r["i"])(n,{id:c.artist._id},null,8,["id"]),Object(r["i"])(l,{id:c.artist._id},null,8,["id"])])):(Object(r["s"])(),Object(r["f"])("div",W,e[0]||(e[0]=[Object(r["g"])("div",{class:"spinner-border text-primary",role:"status"},[Object(r["g"])("span",{class:"sr-only"},"Loading...")],-1)])))}const K={key:0},V={class:"row border-bottom mb-4 pb-4"},G={class:"col-lg-2"},X=["src","alt"],tt={class:"col-lg-7"},et={class:"text-muted"},st={class:"col col-lg-3"},rt={class:"list-group"},at={class:"list-group-item list-group-item-primary"},ct={key:1,class:"list-group-item disabled",href:"#"},ot={key:1};function it(t,e,s,a,c,o){const i=Object(r["x"])("router-link");return c.artist?(Object(r["s"])(),Object(r["f"])("div",K,[Object(r["g"])("div",V,[Object(r["g"])("div",G,[Object(r["g"])("img",{src:c.artist.photo,alt:c.artist.prenom+" "+c.artist.nom,height:"130",width:"130",class:"img-thumbnail"},null,8,X),(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["w"])(c.artist.tags,t=>(Object(r["s"])(),Object(r["f"])("span",{class:"badge badge-secondary mr-2 mt-1",key:t},Object(r["A"])(t),1))),128))]),Object(r["g"])("div",tt,[Object(r["g"])("h3",null,[Object(r["h"])(Object(r["A"])(c.artist.prenom)+" "+Object(r["A"])(c.artist.nom)+" ",1),Object(r["g"])("span",et,"("+Object(r["A"])(c.artist.age)+" ans)",1)]),Object(r["g"])("p",null,Object(r["A"])(c.artist.bio),1)]),Object(r["g"])("div",st,[Object(r["g"])("div",rt,[Object(r["g"])("h5",at,Object(r["A"])(c.artist.styleMusical),1),c.artistsSimilaires.length?(Object(r["s"])(!0),Object(r["f"])(r["a"],{key:0},Object(r["w"])(c.artistsSimilaires,t=>(Object(r["s"])(),Object(r["d"])(i,{to:{name:"artist",params:{id:t._id}},key:t._id,class:"list-group-item"},{default:Object(r["E"])(()=>[Object(r["h"])(Object(r["A"])(t.prenom)+" "+Object(r["A"])(t.nom),1)]),_:2},1032,["to"]))),128)):(Object(r["s"])(),Object(r["f"])("a",ct,"Seul(e) artiste de "+Object(r["A"])(c.artist.styleMusical)+" connu(e)",1))])])])])):(Object(r["s"])(),Object(r["f"])("div",ot,"Artiste introuvable ou en cours de chargement..."))}s("14d9"),s("f665");var nt={name:"ArtistInfos",props:{id:{type:String,required:!0}},components:{},data(){return{artist:null,artistsSimilaires:[]}},async mounted(){this.fetchArtist(this.id)},watch:{id:{immediate:!0,handler(t){this.fetchArtist(t)}}},methods:{async fetchArtist(t){try{const s=await g.a.get("http://localhost:8085/artistes.json");for(var e in this.artist=s.data.find(e=>e._id===t)||null,this.artistsSimilaires=[],s.data)s.data[e].styleMusical===this.artist.styleMusical&&s.data[e]._id!==this.artist._id&&this.artistsSimilaires.push(s.data[e])}catch(s){console.error("Erreur lors du chargement des artistes :",s),this.artist=null}}}};const lt=i()(nt,[["render",it]]);var dt=lt;const bt={key:0},ut={class:"row mb-4"},jt={class:"col-lg-7"},mt={class:"table table-striped"},ht={class:"align-middle"},ft={class:"text-right align-middle"},Ot={class:"text-right align-middle"},pt={key:0},gt={colspan:"4",class:"text-center"},yt={key:1};function vt(t,e,s,a,c,o){return c.artist?(Object(r["s"])(),Object(r["f"])("div",bt,[Object(r["g"])("div",ut,[e[3]||(e[3]=Object(r["g"])("div",{class:"col-lg-2"},null,-1)),Object(r["g"])("div",jt,[Object(r["g"])("table",mt,[e[2]||(e[2]=Object(r["g"])("thead",{class:"thead-light"},[Object(r["g"])("tr",null,[Object(r["g"])("th"),Object(r["g"])("th",null,"Titres populaires"),Object(r["g"])("th"),Object(r["g"])("th")])],-1)),Object(r["g"])("tbody",null,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["w"])(o.titresPopulairesPagines,t=>(Object(r["s"])(),Object(r["f"])("tr",{key:t._id},[e[1]||(e[1]=Object(r["g"])("td",null,null,-1)),Object(r["g"])("td",ht,Object(r["A"])(o.capitalizeFirstLetter(t.titre)),1),Object(r["g"])("td",ft,Object(r["A"])(o.formatDuration(t.dureeSecondes)),1),Object(r["g"])("td",Ot,Object(r["A"])(o.thousandsSeparator(t.nombreEcoutes)),1)]))),128))]),Object(r["g"])("tfoot",null,[c.titresAffiches<o.titresPopulairesTries.length?(Object(r["s"])(),Object(r["f"])("tr",pt,[Object(r["g"])("td",gt,[Object(r["g"])("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...t)=>o.showMoreTitles&&o.showMoreTitles(...t))}," Afficher plus de titres ("+Object(r["A"])(o.titresRestants)+" restants) ",1)])])):Object(r["e"])("",!0)])])])])])):(Object(r["s"])(),Object(r["f"])("div",yt,"Titres introuvables ou en cours de chargement..."))}var At={name:"ArtistPopularyTitles",props:{id:{type:String,required:!0}},data(){return{artist:null,titresPopulaires:[],titresAffiches:5}},async mounted(){this.fetchArtist(this.id)},watch:{id:{immediate:!0,handler(t){this.fetchArtist(t)}}},computed:{titresRestants(){return Math.max(0,this.titresPopulairesTries.length-this.titresAffiches)},titresPopulairesTries(){return[...this.allMusiques].sort((t,e)=>{const s=Number(t.nombreEcoutes),r=Number(e.nombreEcoutes);return r-s})},titresPopulairesPagines(){return this.titresPopulairesTries.slice(0,this.titresAffiches)},allMusiques(){return this.artist.albums.reduce((t,e)=>t.concat(e.musiques),[])}},methods:{thousandsSeparator(t,e=" "){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)},capitalizeFirstLetter(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():""},formatDuration(t){const e=Math.floor(t/60),s=t%60;return`${e}:${s.toString().padStart(2,"0")}`},showMoreTitles(){this.titresAffiches+=5},async fetchArtist(t){try{const e=await g.a.get("http://localhost:8085/artistes.json");this.artist=e.data.find(e=>e._id===t)||null}catch(e){console.error("Erreur lors du chargement des artistes :",e),this.artist=null}}}};const kt=i()(At,[["render",vt]]);var wt=kt;const St={key:0},_t={class:"col-lg-2"},xt=["src","alt"],Et={class:"text-muted"},zt={class:"col-lg-7"},Ct={class:"table"},Tt={class:"align-middle"},Bt={class:"text-right align-middle"},Dt={class:"text-right align-middle"},Mt={key:1};function Pt(t,e,s,a,c,o){return c.artist&&c.artist.albums.length?(Object(r["s"])(),Object(r["f"])("div",St,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["w"])(o.sortedAlbums,t=>(Object(r["s"])(),Object(r["f"])("div",{key:t._id,class:"row mb-4 border-bottom pb-4"},[Object(r["g"])("div",_t,[Object(r["g"])("img",{src:t.couverture||"http://localhost:8085/img/album/No-album-art.png",alt:t.intitule,height:"130",width:"130",class:"img-thumbnail"},null,8,xt),Object(r["g"])("h5",null,[Object(r["h"])(Object(r["A"])(t.intitule)+" ",1),Object(r["g"])("span",Et,Object(r["A"])(o.formatDate(t.dateSortie)),1)])]),Object(r["g"])("div",zt,[Object(r["g"])("table",Ct,[Object(r["g"])("tbody",null,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["w"])(o.sortedMusiques(t.musiques),t=>(Object(r["s"])(),Object(r["f"])("tr",{key:t._id},[Object(r["g"])("td",Tt,Object(r["A"])(o.capitalizeFirstLetter(t.titre)),1),Object(r["g"])("td",Bt,Object(r["A"])(o.formatDuration(t.dureeSecondes)),1),Object(r["g"])("td",Dt,Object(r["A"])(o.thousandsSeparator(t.nombreEcoutes)),1)]))),128))])])])]))),128))])):(Object(r["s"])(),Object(r["f"])("div",Mt,"Albums introuvables ou en cours de chargement..."))}var Ft={name:"ArtistAlbums",props:{id:{type:String,required:!0}},data(){return{artist:null}},async mounted(){this.fetchArtist(this.id)},watch:{id:{immediate:!0,handler(t){this.fetchArtist(t)}}},computed:{sortedAlbums(){return this.artist&&this.artist.albums?[...this.artist.albums].sort((t,e)=>{const s=new Date(this.cleanDate(t.dateSortie)),r=new Date(this.cleanDate(e.dateSortie));return r-s}):[]}},methods:{async fetchArtist(t){try{const e=await g.a.get("http://localhost:8085/artistes.json");this.artist=e.data.find(e=>e._id===t)||null}catch(e){console.error("Erreur lors du chargement des artistes :",e),this.artist=null}},sortedMusiques(t){return[...t].sort((t,e)=>e.nombreEcoutes-t.nombreEcoutes)},formatDuration(t){const e=Math.floor(t/60),s=t%60;return`${e}:${s.toString().padStart(2,"0")}`},thousandsSeparator(t){return t.toLocaleString()},capitalizeFirstLetter(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():""},formatDate(t){const e=new Date(this.cleanDate(t)),s={year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString("fr-FR",s)},cleanDate(t){return t.split("T")[0]}}};const qt=i()(Ft,[["render",Pt]]);var Nt=qt,Qt={name:"Artist",props:{id:{type:String,require:!0}},components:{AppArtistInfos:dt,AppArtistPopularyTitles:wt,AppArtistAlbums:Nt},data(){return{artist:null}},async mounted(){const t=await g.a.get("http://localhost:8085/artistes.json");for(var e in t.data)t.data[e]._id===this.id&&(this.artist=t.data[e])}};const Lt=i()(Qt,[["render",Y]]);var Rt=Lt,Ht=Object(m["a"])({history:Object(m["b"])(),routes:[{path:"/",name:"home",component:Z},{path:"/artist/:id",name:"artist",component:Rt,props:!0}]}),It=new y["a"].Store({state:{searchQuery:"",sortBy:"nom",sortOrder:"asc"},mutations:{SET_SEARCH_QUERY(t,e){t.searchQuery=e},SET_SORT(t,{sortBy:e,sortOrder:s}){t.sortBy=e,t.sortOrder=s}},actions:{updateSearchQuery({commit:t},e){t("SET_SEARCH_QUERY",e)},updateSort({commit:t},{sortBy:e,sortOrder:s}){t("SET_SORT",{sortBy:e,sortOrder:s})}},getters:{getSearchQuery:t=>t.searchQuery,getSortBy:t=>t.sortBy,getSortOrder:t=>t.sortOrder}}),Ut=(s("4989"),s("ab8b"),s("ecee")),$t=s("ad3d"),Zt=s("c074");Ut["c"].add(Zt["j"],Zt["e"],Zt["v"],Zt["w"],Zt["p"],Zt["q"],Zt["n"],Zt["o"],Zt["h"],Zt["l"],Zt["u"],Zt["f"],Zt["r"],Zt["m"],Zt["i"],Zt["s"],Zt["b"],Zt["k"],Zt["c"],Zt["a"],Zt["g"],Zt["t"],Zt["d"]);s("5aea"),s("557b"),s("d16e");var Jt=s("9217"),Wt=s("c1df"),Yt=s.n(Wt);g.a.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded",g.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",Object(r["c"])(j).use(It).use(Ht).use(Yt.a).use(Jt["a"],{prefix:" ",suffix:" €",decimal:",",thousand:" ",precision:0}).component("fa",$t["a"]).mount("#app")},"5aea":function(t,e,s){},"7e3d":function(t,e,s){},be04:function(t,e,s){"use strict";s("1de1")},d16e:function(t,e,s){},d872:function(t,e,s){"use strict";s("7e3d")}});
//# sourceMappingURL=app.fe5cd126.js.map